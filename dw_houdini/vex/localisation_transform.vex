// point wrangle

// get center of the object bounding box
vector min = {0,0,0};
vector max = {0,0,0};

getpointbbox(0, min, max);
vector centroid = (max + min)/2;

// build matrice and apply the transformation
vector translate = centroid * chf("weight_transform");
vector rotate = {0,0,0};
vector scale = {1,1,1};

matrix xform = invert(maketransform(0,0,translate, rotate, scale));

@P *= xform;
// storing as attribute :
4@xform_matrix = xform;

// invert :
// @P *= invert(4@xform_matrix)